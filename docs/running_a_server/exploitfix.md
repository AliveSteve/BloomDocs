---
id: exploitfix
title: Exploit Fix
slug: /exploitfix
hide_title: true
hide_table_of_contents: true
sidebar_label: ❗ Exploit Fix ❗
image: https://bloom.host/assets/images/logo.png
---

<div class="text--center">
<img src="https://bloom.host/logo-white.svg" alt="logo" height="50%" width="50%"/>
<h1>SECURITY VULNERABILITY IN JAVA EDITION</h1>
</div>

### Introduction

On December 9, 2021 an exploit was found on one of the logging libraries being used by Minecraft server jars.

A fix for the exploit for Paper was released by the PaperMC team and subsequently was merged by the different forks of Paper. Other server jars have also released builds implementing a fix. 

On December 10, 2021 Mojang released a fix for the exploit and steps on how to fix it on older versions of Minecraft. Follow the steps outlined below to fix the exploit.

If your server is running:

**1.18 server jar**: Upgrade to 1.18.1, if possible. If not, use the same approach as for 1.17.x:

**1.17 server jar**: Mojang has recommended you add the `-Dlog4j2.formatMsgNoLookups=true` flag to your startup command. On December 9, 2021 the Bloom.host team added this flag to all Minecraft servers, so you just have to make sure you have this flag in your startup command. To verify, just go to Minecraft panel, then go to the startup tab and make sure the flag is on the startup command, it should be before the `-jar` text.

**1.12-1.16.5** server jars: Download [this file](https://launcher.mojang.com/v1/objects/02937d122c86ce73319ef9975b58896fc1b491d1/log4j2_112-116.xml) to the home directory where your server runs. To do this you can go to the URL and it will open a .xml file on your browser, you will have to right click then click on 'Save as' then save the .xml file. You can also head over to the File Manager on our Minecraft panel, click on the **Download from URL** button and paste the following URL: `https://launcher.mojang.com/v1/objects/02937d122c86ce73319ef9975b58896fc1b491d1/log4j2_112-116.xml` and this will download the file to the home directory of your server. After the file is on the server, go to the startup tab on the Minecraft panel add the following JVM arguments to your startup flags. To do this just go to the startup tab and add the following JVM arguments in the startup flags box: `-Dlog4j.configurationFile=log4j2_112-116.xml`. After you have added the JVM arguments, restart your server.

**1.7-1.11.2** server jars: Download [this file](https://launcher.mojang.com/v1/objects/dd2b723346a8dcd48e7f4d245f6bf09e98db9696/log4j2_17-111.xml) to the home directory where your server runs. To do this you can go to the URL and it will open a .xml file on your browser, you will have to right click then click on 'Save as' then save the .xml file. You can also head over to the File Manager on our Minecraft panel, click on the **Download from URL** button and paste the following URL: `https://launcher.mojang.com/v1/objects/dd2b723346a8dcd48e7f4d245f6bf09e98db9696/log4j2_17-111.xml` and this will download the file to the home directory of your server. After the file is on the server, go to the startup tab on the Minecraft panel add the following JVM arguments to your startup flags. To do this just go to the startup tab and add the following JVM arguments in the startup flags box: `-Dlog4j.configurationFile=log4j2_17-111.xml`. After you have added the JVM arguments, restart your server.

**Servers running versions 1.7 and below are not affected by this exploit**

<div class="text--center"><img src={require('../../static/imgs/running_a_server/exploitfix/1.png').default} alt="img"/></div>